import{_ as re,a as ce,b as ue,c as de}from"./IPl7bG_2.js";import{S as J,V as ge,aH as pe,aI as me,E as he,ad as fe,ae as ve,Q as ke,aJ as ye,a as Y,az as K,k as F,t as j,aK as be,d as T,o as p,l as c,w as b,i as k,p as o,F as N,B as xe,c as R,e as q,ax as _e,f as t,r as y,C as Q,h as X,M as oe,af as $e,ag as Ce,aA as ie,A as Ie,ah as Le,I as we,P as Te,q as qe,u as Se,s as se,v as Pe,m as Ae,x as ae,y as le,z as Be,aL as Ue,aM as De,D as ze}from"./DyDSLWft.js";import{_ as He}from"./BJs50Ncp.js";import{u as Re}from"./DZt23yUf.js";import"./C2bHYaEW.js";function We(){const i=J(),l=J([]),e=J([]);function x(n){n.forEach(u=>{const _=u.target.id;_&&(u.isIntersecting?l.value=[...l.value,_]:l.value=l.value.filter($=>$!==_))})}function m(n){n.forEach(u=>{i.value&&i.value.observe(u)})}return ge(l,(n,u)=>{n.length===0?e.value=u:e.value=n}),pe(()=>i.value=new IntersectionObserver(x)),me(()=>{var n;return(n=i.value)==null?void 0:n.disconnect()}),{visibleHeadings:l,activeHeadings:e,updateHeadings:m}}const Ee={slots:{root:"sticky top-(--ui-header-height) z-10 bg-default/75 lg:bg-[initial] backdrop-blur -mx-4 px-4 sm:px-6 sm:-mx-6 overflow-y-auto max-h-[calc(100vh-var(--ui-header-height))]",container:"pt-4 sm:pt-6 pb-2.5 sm:pb-4.5 lg:py-8 border-b border-dashed border-default lg:border-0 flex flex-col",top:"",bottom:"hidden lg:flex lg:flex-col gap-6",trigger:"group text-sm font-semibold flex-1 flex items-center gap-1.5 py-1.5 -mt-1.5 focus-visible:outline-primary",title:"truncate",trailing:"ms-auto inline-flex gap-1.5 items-center",trailingIcon:"size-5 transform transition-transform duration-200 shrink-0 group-data-[state=open]:rotate-180 lg:hidden",content:"data-[state=open]:animate-[collapsible-down_200ms_ease-out] data-[state=closed]:animate-[collapsible-up_200ms_ease-out] overflow-hidden focus:outline-none",list:"min-w-0",listWithChildren:"ms-3",item:"min-w-0",itemWithChildren:"",link:"group relative text-sm flex items-center focus-visible:outline-primary py-1",linkText:"truncate",indicator:"absolute ms-2.5 transition-[translate,height] duration-200 h-(--indicator-size) translate-y-(--indicator-position) w-px rounded-full"},variants:{color:{primary:"",secondary:"",info:"",success:"",warning:"",error:"",important:"",neutral:""},highlightColor:{primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},info:{indicator:"bg-info"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},error:{indicator:"bg-error"},important:{indicator:"bg-important"},neutral:{indicator:"bg-inverted"}},active:{false:{link:["text-muted hover:text-default","transition-colors"]}},highlight:{true:{list:"ms-2.5 ps-4 border-s border-default",item:"-ms-px"}},body:{true:{bottom:"mt-6"}}},compoundVariants:[{color:"primary",active:!0,class:{link:"text-primary",linkLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{link:"text-secondary",linkLeadingIcon:"text-secondary"}},{color:"info",active:!0,class:{link:"text-info",linkLeadingIcon:"text-info"}},{color:"success",active:!0,class:{link:"text-success",linkLeadingIcon:"text-success"}},{color:"warning",active:!0,class:{link:"text-warning",linkLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{link:"text-error",linkLeadingIcon:"text-error"}},{color:"important",active:!0,class:{link:"text-important",linkLeadingIcon:"text-important"}},{color:"neutral",active:!0,class:{link:"text-highlighted",linkLeadingIcon:"text-highlighted"}}],defaultVariants:{color:"primary",highlightColor:"primary"}},Me=["href","onClick"],Oe={__name:"ContentToc",props:{as:{type:null,required:!1,default:"nav"},trailingIcon:{type:String,required:!1},title:{type:String,required:!1},color:{type:null,required:!1},highlight:{type:Boolean,required:!1},highlightColor:{type:null,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1}},emits:["update:open","move"],setup(i,{emit:l}){const e=i,x=l,m=he(),n=fe(ve(e,"as","open","defaultOpen"),x),{t:u}=ke(),_=ye(),$=Y(),{activeHeadings:S,updateHeadings:A}=We(),[r,B]=K({props:{links:Array,level:Number}}),[z,C]=K(),s=F(()=>{var a;return j({extend:j(Ee),...((a=$.uiPro)==null?void 0:a.contentToc)||{}})({color:e.color,highlight:e.highlight,highlightColor:e.highlightColor||e.color})});function h(a){const f=encodeURIComponent(a);_.push(`#${f}`),x("move",a)}function I(a){return a.flatMap(f=>[f,...f.children?I(f.children):[]])}const L=F(()=>{var d;if(!((d=S.value)!=null&&d.length))return;const f=I(e.links||[]).findIndex(v=>S.value.includes(v.id)),P=28,w=0;return{"--indicator-size":`${P*S.value.length+w*(S.value.length-1)}px`,"--indicator-position":f>=0?`${f*(P+w)}px`:"0px"}}),H=be();return H.hooks.hook("page:loading:end",()=>{const a=Array.from(document.querySelectorAll("h2, h3"));A(a)}),H.hooks.hook("page:transition:finish",()=>{const a=Array.from(document.querySelectorAll("h2, h3"));A(a)}),(a,f)=>{var w;const P=oe;return p(),T(N,null,[c(t(r),null,{default:b(({links:d,level:v})=>{var U,D;return[k("ul",{class:o(v>0?s.value.listWithChildren({class:(U=e.ui)==null?void 0:U.listWithChildren}):s.value.list({class:(D=e.ui)==null?void 0:D.list}))},[(p(!0),T(N,null,xe(d,(g,V)=>{var W,E,M,O,Z,ee,te;return p(),T("li",{key:V,class:o(g.children&&g.children.length>0?s.value.itemWithChildren({class:[(W=e.ui)==null?void 0:W.itemWithChildren,(E=g.ui)==null?void 0:E.itemWithChildren]}):s.value.item({class:[(M=e.ui)==null?void 0:M.item,(O=g.ui)==null?void 0:O.item]}))},[k("a",{href:`#${g.id}`,class:o(s.value.link({class:[(Z=e.ui)==null?void 0:Z.link,(ee=g.ui)==null?void 0:ee.link,g.class],active:t(S).includes(g.id)})),onClick:_e(G=>h(g.id),["prevent"])},[y(a.$slots,"link",{link:g},()=>{var G,ne;return[k("span",{class:o(s.value.linkText({class:[(G=e.ui)==null?void 0:G.linkText,(ne=g.ui)==null?void 0:ne.linkText]}))},Q(g.text),3)]})],10,Me),(te=g.children)!=null&&te.length?(p(),R(t(B),{key:0,links:g.children,level:v+1},null,8,["links","level"])):q("",!0)],2)}),128))],2)]}),_:3}),c(t(z),null,{default:b(({open:d})=>{var v,U;return[y(a.$slots,"leading",{open:d}),k("span",{class:o(s.value.title({class:(v=e.ui)==null?void 0:v.title}))},[y(a.$slots,"default",{open:d},()=>[X(Q(i.title||t(u)("contentToc.title")),1)])],2),k("span",{class:o(s.value.trailing({class:(U=e.ui)==null?void 0:U.trailing}))},[y(a.$slots,"trailing",{open:d},()=>{var D;return[c(P,{name:i.trailingIcon||t($).ui.icons.chevronDown,class:o(s.value.trailingIcon({class:(D=e.ui)==null?void 0:D.trailingIcon}))},null,8,["name","class"])]})],2)]}),_:3}),c(t(Le),Ie(t(n),{"default-open":i.defaultOpen,class:s.value.root({class:[(w=e.ui)==null?void 0:w.root,e.class]})}),{default:b(({open:d})=>{var v,U,D,g,V,W,E,M;return[k("div",{class:o(s.value.container({class:(v=e.ui)==null?void 0:v.container}))},[m.top?(p(),T("div",{key:0,class:o(s.value.top({class:(U=e.ui)==null?void 0:U.top}))},[y(a.$slots,"top",{links:i.links})],2)):q("",!0),(D=i.links)!=null&&D.length?(p(),T(N,{key:1},[c(t($e),{class:o(s.value.trigger({class:"lg:hidden"}))},{default:b(()=>[c(t(C),{open:d},null,8,["open"])]),_:2},1032,["class"]),c(t(Ce),{class:o(s.value.content({class:[(g=e.ui)==null?void 0:g.content,"lg:hidden"]}))},{default:b(()=>{var O;return[i.highlight?(p(),T("div",{key:0,class:o(s.value.indicator({class:(O=e.ui)==null?void 0:O.indicator})),style:ie(L.value)},null,6)):q("",!0),y(a.$slots,"content",{links:i.links},()=>[c(t(B),{links:i.links,level:0},null,8,["links"])])]}),_:3},8,["class"]),k("p",{class:o(s.value.trigger({class:"hidden lg:flex"}))},[c(t(C),{open:d},null,8,["open"])],2),k("div",{class:o(s.value.content({class:[(V=e.ui)==null?void 0:V.content,"hidden lg:flex"]}))},[i.highlight?(p(),T("div",{key:0,class:o(s.value.indicator({class:(W=e.ui)==null?void 0:W.indicator})),style:ie(L.value)},null,6)):q("",!0),y(a.$slots,"content",{links:i.links},()=>[c(t(B),{links:i.links,level:0},null,8,["links"])])],2)],64)):q("",!0),m.bottom?(p(),T("div",{key:2,class:o(s.value.bottom({class:(E=e.ui)==null?void 0:E.bottom,body:!!m.top||!!((M=i.links)!=null&&M.length)}))},[y(a.$slots,"bottom",{links:i.links})],2)):q("",!0)],2)]}),_:3},16,["default-open","class"])],64)}}},Ve={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Ne={key:1,class:"hidden lg:block"},Fe={__name:"ContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(i){const l=i,e=Y(),[x,m]=K({props:{link:Object,icon:String,direction:String}}),n=F(()=>{var u;return j({extend:j(Ve),...((u=e.uiPro)==null?void 0:u.contentSurround)||{}})()});return(u,_)=>{var A;const $=oe,S=we;return p(),T(N,null,[c(t(x),null,{default:b(({link:r,icon:B,direction:z})=>{var C,s;return[r?(p(),R(S,{key:0,to:r.path,raw:"",class:o(n.value.link({class:[(C=l.ui)==null?void 0:C.link,(s=r.ui)==null?void 0:s.link,r.class],direction:z}))},{default:b(()=>[y(u.$slots,"link",{link:r},()=>{var h,I,L,H,a,f;return[k("div",{class:o(n.value.linkLeading({class:[(h=l.ui)==null?void 0:h.linkLeading,(I=r.ui)==null?void 0:I.linkLeading]}))},[y(u.$slots,"link-leading",{link:r},()=>{var P,w;return[c($,{name:r.icon||B,class:o(n.value.linkLeadingIcon({class:[(P=l.ui)==null?void 0:P.linkLeadingIcon,(w=r.ui)==null?void 0:w.linkLeadingIcon],direction:z}))},null,8,["name","class"])]})],2),k("p",{class:o(n.value.linkTitle({class:[(L=l.ui)==null?void 0:L.linkTitle,(H=r.ui)==null?void 0:H.linkTitle]}))},[y(u.$slots,"link-title",{link:r},()=>[X(Q(r.title),1)])],2),k("p",{class:o(n.value.linkDescription({class:[(a=l.ui)==null?void 0:a.linkDescription,(f=r.ui)==null?void 0:f.linkDescription]}))},[y(u.$slots,"link-description",{link:r},()=>[X(Q(r.description),1)])],2)]})]),_:2},1032,["to","class"])):(p(),T("span",Ne," "))]}),_:3}),i.surround?(p(),R(t(Te),{key:0,as:i.as,class:o(n.value.root({class:[(A=l.ui)==null?void 0:A.root,l.class]}))},{default:b(()=>[c(t(m),{link:i.surround[0],icon:i.prevIcon||t(e).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),c(t(m),{link:i.surround[1],icon:i.nextIcon||t(e).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},8,["as","class"])):q("",!0)],64)}}},je={class:"space-y-6"},Qe={class:"mb-4"},Ze=qe({__name:"[...slug]",async setup(i){var A,r,B;let l,e;const x=Y(),m=Se(),{data:n}=([l,e]=se(()=>ae(le(m.path),()=>Be("content").path(m.path).first(),"$QuLmG9WMPn")),l=await l,e(),l);if(!n.value)throw Pe({statusCode:404,statusMessage:"Page not found",message:`${m.path} does not exist`,fatal:!0});const{data:u}=([l,e]=se(()=>ae(`${le(m.path)}-surround`,()=>Ue("content",m.path,{fields:["description"]}))),l=await l,e(),l),_=De("navigation");function $(z,C,s=0){const h=[...z].find(I=>{var L;return C.startsWith(I.path)&&((L=I.children)==null?void 0:L.length)>0});return h?s===0?$(h.children,C,s+1):[{label:h.title,icon:h.icon,to:h.page!==!1?h.path:""},...$(h.children,C,s+1)]:[]}const S=F(()=>$((_==null?void 0:_.value)||[],n.value.path));return Re({title:`${(A=n.value)==null?void 0:A.title} - ${x.site.name}`,ogTitle:(r=n.value)==null?void 0:r.title,description:(B=n.value)==null?void 0:B.description}),(z,C)=>{const s=ce,h=re,I=Oe,L=ue,H=ze,a=de,f=Fe,P=He,w=Ae;return t(n)?(p(),R(w,{key:0},{right:b(()=>{var d,v;return[c(I,{title:"On this page",links:((v=(d=t(n).body)==null?void 0:d.toc)==null?void 0:v.links)||[],highlight:""},null,8,["links"])]}),default:b(()=>[c(h,{title:t(n).title,description:t(n).description,links:t(n).links},{headline:b(()=>[c(s,{items:t(S)},null,8,["items"])]),_:1},8,["title","description","links"]),c(P,{prose:"",class:"break-words"},{default:b(()=>{var d;return[t(n).body?(p(),R(L,{key:0,value:t(n)},null,8,["value"])):q("",!0),k("div",je,[c(H,{type:"dashed"}),k("div",Qe,[c(a,{class:"inline-block",links:[{icon:"i-ph-pen-duotone",label:`Edit this page ${t(n).automd?"(some contents are generated with automd from source)":""}`,to:`https://github.com/${t(x).docs.github}/edit/${t(x).docs.branch||"main"}/docs/${t(n).id.replace(/^content\//,"")}`,target:"_blank"}]},null,8,["links"])]),(d=t(u))!=null&&d.length?(p(),R(f,{key:0,class:"mb-4",surround:t(u)},null,8,["surround"])):q("",!0)])]}),_:1})]),_:1})):q("",!0)}}});export{Ze as default};
